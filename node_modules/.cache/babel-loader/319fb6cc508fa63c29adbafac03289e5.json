{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{makeStyles,withTheme}from'@material-ui/core/styles';import Typography from'@material-ui/core/Typography';import NavbarSection from'../NavbarSection';import ReviewSection from'../products/ReviewSection';import FooterSection from'../home/FooterSection';import StarComponent from'../StarComponent';import{Container}from'@material-ui/core';import{useParams}from'react-router-dom';import Grid from'@material-ui/core/Grid';import Divider from'@material-ui/core/Divider';import ImgPattern from'../../assets/img/pattern2.png';export default function ProductDetail(){window.scrollTo(0,0);var classes=useStyles();var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),productImageList=_useState4[0],setProductImage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),productReviewlist=_useState6[0],setProductReview=_useState6[1];function fetchProduct(){return _fetchProduct.apply(this,arguments);}function _fetchProduct(){_fetchProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,product,productImages,productReviews;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://salvagerapi.salvagerindonesia.com/api/v1/products/\"+id+\"?format=json\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:product=_context.sent;setProduct(product);productImages=product.product_images.map(function(imageLocation){return'https://salvagerapi.salvagerindonesia.com/'+imageLocation;});setProductImage(productImages);productReviews=product.product_reviews.map(function(reviews){return reviews;});setProductReview(productReviews);case 11:case\"end\":return _context.stop();}}},_callee);}));return _fetchProduct.apply(this,arguments);}useEffect(function(){fetchProduct();},[]);return React.createElement(\"div\",{className:classes.firstDiv},React.createElement(Container,null,React.createElement(NavbarSection,{theme:\"dark\"}),React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:12,sm:6,md:6},React.createElement(\"img\",{className:classes.productImage,src:productImageList[0]})),React.createElement(Grid,{item:true,xs:12,sm:6,md:6},React.createElement(\"div\",{className:classes.productTextContainer},React.createElement(Typography,{gutterBottom:true,variant:\"h2\"},product.name),React.createElement(StarComponent,{starDisplay:\"\",className:classes.star,align:'left',star:getAverageStars(productReviewlist),size:'2em'}),React.createElement(Typography,{className:classes.price,gutterBottom:true,variant:\"h4\"},\"Rp. \",product.price),React.createElement(Divider,null),React.createElement(Typography,{component:\"p\"},product.description)))),React.createElement(ReviewSection,{reviews:productReviewlist})),React.createElement(FooterSection,null));}function getAverageStars(reviews){var reviewLength=reviews.length;var totalReviewStars=reviews.reduce(function(a,b){return a+b;},0);return Math.ceil(totalReviewStars/reviewLength);}var useStyles=makeStyles(function(theme){return{firstDiv:{backgroundImage:\"url(\".concat(ImgPattern,\")\"),backgroundSize:'cover',paddingTop:'8rem'},productTitle:{alignItems:'center',marginTop:'1rem'},productImage:{display:'block',marginLeft:'auto',marginRight:'auto',width:'80%',marginBottom:'2em'},star:{// display: 'block',\n// marginLeft: '1em',\n// marginRight: 'auto',\n// marginBottom: 'em',\n},price:{marginTop:'0.5em'}};});","map":{"version":3,"sources":["E:/Work/react/salvager/src/views/products/ProductDetail.js"],"names":["React","useState","useEffect","makeStyles","withTheme","Typography","NavbarSection","ReviewSection","FooterSection","StarComponent","Container","useParams","Grid","Divider","ImgPattern","ProductDetail","window","scrollTo","classes","useStyles","id","product","setProduct","productImageList","setProductImage","productReviewlist","setProductReview","fetchProduct","fetch","res","json","productImages","product_images","map","imageLocation","productReviews","product_reviews","reviews","firstDiv","productImage","productTextContainer","name","star","getAverageStars","price","description","reviewLength","length","totalReviewStars","reduce","a","b","Math","ceil","theme","backgroundImage","backgroundSize","paddingTop","productTitle","alignItems","marginTop","display","marginLeft","marginRight","width","marginBottom"],"mappings":"0UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,0BAAtC,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,2BAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,uBAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,OAASC,SAAT,KAA0B,mBAA1B,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CAEA,MAAOC,CAAAA,UAAP,KAAuB,+BAAvB,CAEA,cAAe,SAASC,CAAAA,aAAT,EAAyB,CACpCC,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACA,GAAMC,CAAAA,OAAO,CAAGC,SAAS,EAAzB,CAFoC,eAGrBR,SAAS,EAHY,CAG5BS,EAH4B,YAG5BA,EAH4B,eAINnB,QAAQ,CAAC,EAAD,CAJF,wCAI7BoB,OAJ6B,eAIpBC,UAJoB,8BAKQrB,QAAQ,CAAC,EAAD,CALhB,yCAK7BsB,gBAL6B,eAKXC,eALW,8BAMUvB,QAAQ,CAAC,EAAD,CANlB,yCAM7BwB,iBAN6B,eAMVC,gBANU,uBAQrBC,CAAAA,YARqB,8IAQpC,sMACsBC,CAAAA,KAAK,CAAC,6DAA+DR,EAA/D,CAAoE,cAArE,CAD3B,QACUS,GADV,qCAE0BA,CAAAA,GAAG,CAACC,IAAJ,EAF1B,QAEUT,OAFV,eAGIC,UAAU,CAACD,OAAD,CAAV,CACIU,aAJR,CAIwBV,OAAO,CAACW,cAAR,CAAuBC,GAAvB,CAA2B,SAACC,aAAD,CAAmB,CAC9D,MAAO,6CAA+CA,aAAtD,CACH,CAFmB,CAJxB,CAOIV,eAAe,CAACO,aAAD,CAAf,CACII,cARR,CAQyBd,OAAO,CAACe,eAAR,CAAwBH,GAAxB,CAA4B,SAACI,OAAD,CAAa,CAC1D,MAAOA,CAAAA,OAAP,CACH,CAFoB,CARzB,CAWIX,gBAAgB,CAACS,cAAD,CAAhB,CAXJ,uDARoC,+CAsBpCjC,SAAS,CAAC,UAAM,CACZyB,YAAY,GACf,CAFQ,CAEN,EAFM,CAAT,CAIA,MACI,4BAAK,SAAS,CAAET,OAAO,CAACoB,QAAxB,EACI,oBAAC,SAAD,MACI,oBAAC,aAAD,EAAe,KAAK,CAAC,MAArB,EADJ,CAEI,oBAAC,IAAD,EAAM,SAAS,KAAf,EACI,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,CAA0B,EAAE,CAAE,CAA9B,EACI,2BAAK,SAAS,CAAEpB,OAAO,CAACqB,YAAxB,CAAsC,GAAG,CAAEhB,gBAAgB,CAAC,CAAD,CAA3D,EADJ,CADJ,CAII,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,CAA0B,EAAE,CAAE,CAA9B,EACI,2BAAK,SAAS,CAAEL,OAAO,CAACsB,oBAAxB,EACI,oBAAC,UAAD,EAAY,YAAY,KAAxB,CAAyB,OAAO,CAAC,IAAjC,EACKnB,OAAO,CAACoB,IADb,CADJ,CAII,oBAAC,aAAD,EAAe,WAAW,CAAC,EAA3B,CAA8B,SAAS,CAAEvB,OAAO,CAACwB,IAAjD,CAAuD,KAAK,CAAE,MAA9D,CAAsE,IAAI,CAAEC,eAAe,CAAClB,iBAAD,CAA3F,CAAgH,IAAI,CAAE,KAAtH,EAJJ,CAKI,oBAAC,UAAD,EAAY,SAAS,CAAEP,OAAO,CAAC0B,KAA/B,CAAsC,YAAY,KAAlD,CAAmD,OAAO,CAAC,IAA3D,SACSvB,OAAO,CAACuB,KADjB,CALJ,CAQI,oBAAC,OAAD,MARJ,CASI,oBAAC,UAAD,EAAY,SAAS,CAAC,GAAtB,EACKvB,OAAO,CAACwB,WADb,CATJ,CADJ,CAJJ,CAFJ,CAsBI,oBAAC,aAAD,EAAe,OAAO,CAAEpB,iBAAxB,EAtBJ,CADJ,CAyBI,oBAAC,aAAD,MAzBJ,CADJ,CA6BH,CAED,QAASkB,CAAAA,eAAT,CAAyBN,OAAzB,CAAkC,CAC9B,GAAIS,CAAAA,YAAY,CAAGT,OAAO,CAACU,MAA3B,CACA,GAAIC,CAAAA,gBAAgB,CAAGX,OAAO,CAACY,MAAR,CAAe,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAAGC,CAAd,EAAf,CAAgC,CAAhC,CAAvB,CACA,MAAOC,CAAAA,IAAI,CAACC,IAAL,CAAUL,gBAAgB,CAAGF,YAA7B,CAAP,CACH,CAED,GAAM3B,CAAAA,SAAS,CAAGhB,UAAU,CAAC,SAAAmD,KAAK,QAAK,CACnChB,QAAQ,CAAE,CACNiB,eAAe,eAASzC,UAAT,KADT,CAEN0C,cAAc,CAAE,OAFV,CAGNC,UAAU,CAAE,MAHN,CADyB,CAMnCC,YAAY,CAAE,CACVC,UAAU,CAAE,QADF,CAEVC,SAAS,CAAE,MAFD,CANqB,CAUnCrB,YAAY,CAAE,CACVsB,OAAO,CAAE,OADC,CAEVC,UAAU,CAAE,MAFF,CAGVC,WAAW,CAAE,MAHH,CAIVC,KAAK,CAAE,KAJG,CAKVC,YAAY,CAAE,KALJ,CAVqB,CAiBnCvB,IAAI,CAAE,CACF;AACA;AACA;AACA;AAJE,CAjB6B,CAuBnCE,KAAK,CAAE,CACHgB,SAAS,CAAE,OADR,CAvB4B,CAAL,EAAN,CAA5B","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { makeStyles, withTheme } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport NavbarSection from '../NavbarSection'\r\nimport ReviewSection from '../products/ReviewSection'\r\nimport FooterSection from '../home/FooterSection';\r\nimport StarComponent from '../StarComponent'\r\nimport { Container } from '@material-ui/core';\r\nimport { useParams } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport ImgPattern from '../../assets/img/pattern2.png'\r\n\r\nexport default function ProductDetail() {\r\n    window.scrollTo(0, 0)\r\n    const classes = useStyles();\r\n    const { id } = useParams();\r\n    const [product, setProduct] = useState([])\r\n    const [productImageList, setProductImage] = useState([])\r\n    const [productReviewlist, setProductReview] = useState([])\r\n\r\n    async function fetchProduct() {\r\n        const res = await fetch(\"https://salvagerapi.salvagerindonesia.com/api/v1/products/\" + id + \"?format=json\")\r\n        const product = await res.json()\r\n        setProduct(product)\r\n        let productImages = product.product_images.map((imageLocation) => {\r\n            return 'https://salvagerapi.salvagerindonesia.com/' + imageLocation\r\n        })\r\n        setProductImage(productImages)\r\n        let productReviews = product.product_reviews.map((reviews) => {\r\n            return reviews\r\n        })\r\n        setProductReview(productReviews)\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchProduct();\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.firstDiv}>\r\n            <Container>\r\n                <NavbarSection theme='dark' />\r\n                <Grid container>\r\n                    <Grid item xs={12} sm={6} md={6} >\r\n                        <img className={classes.productImage} src={productImageList[0]} />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={6}>\r\n                        <div className={classes.productTextContainer}>\r\n                            <Typography gutterBottom variant=\"h2\">\r\n                                {product.name}\r\n                            </Typography>\r\n                            <StarComponent starDisplay='' className={classes.star} align={'left'} star={getAverageStars(productReviewlist)} size={'2em'} />\r\n                            <Typography className={classes.price} gutterBottom variant=\"h4\">\r\n                                Rp. {product.price}\r\n                            </Typography>\r\n                            <Divider />\r\n                            <Typography component=\"p\">\r\n                                {product.description}\r\n                            </Typography>\r\n                        </div>\r\n                    </Grid>\r\n                </Grid>\r\n                <ReviewSection reviews={productReviewlist} />\r\n            </Container>\r\n            <FooterSection />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction getAverageStars(reviews) {\r\n    let reviewLength = reviews.length\r\n    let totalReviewStars = reviews.reduce((a, b) => a + b, 0)\r\n    return Math.ceil(totalReviewStars / reviewLength);\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    firstDiv: {\r\n        backgroundImage: `url(${ImgPattern})`,\r\n        backgroundSize: 'cover',\r\n        paddingTop: '8rem',\r\n    },\r\n    productTitle: {\r\n        alignItems: 'center',\r\n        marginTop: '1rem'\r\n    },\r\n    productImage: {\r\n        display: 'block',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        width: '80%',\r\n        marginBottom: '2em'\r\n    },\r\n    star: {\r\n        // display: 'block',\r\n        // marginLeft: '1em',\r\n        // marginRight: 'auto',\r\n        // marginBottom: 'em',\r\n    },\r\n    price: {\r\n        marginTop: '0.5em'\r\n    }\r\n}));\r\n"]},"metadata":{},"sourceType":"module"}