{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{makeStyles,withTheme}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import{Link}from'@material-ui/core';import{emphasize}from\"@material-ui/core/styles/colorManipulator\";import NavbarSection from'../NavbarSection';import FooterSection from'../home/FooterSection';import ItemProductComponent from'../ItemProductComponent';import ImgPattern from'../../assets/img/pattern2.png';import ImgProducts1 from'../../assets/img/p1.png';import ImgProducts2 from'../../assets/img/p2.png';import ImgProducts3 from'../../assets/img/p3.png';import ImgProducts4 from'../../assets/img/p4.png';import ImgProducts5 from'../../assets/img/p5.png';import ImgStar5 from'../../assets/img/star5.png';import ImgStar4 from'../../assets/img/star4.png';import ImgStar3 from'../../assets/img/star3.png';export default function Products(){window.scrollTo(0,0);var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];function fetchProducts(){return _fetchProducts.apply(this,arguments);}function _fetchProducts(){_fetchProducts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,products;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://salvagerapi.salvagerindonesia.com/api/v1/products/?format=json\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:products=_context.sent;setProducts(products);console.log(products);case 8:case\"end\":return _context.stop();}}},_callee);}));return _fetchProducts.apply(this,arguments);}useEffect(function(){fetchProducts();},[]);var productList=products.map(function(product){var link=\"/product/\"+product.id;var imageLink=\"https://salvagerapi.salvagerindonesia.com\"+product.product_images[0];console.log(imageLink);return React.createElement(Grid,{item:true,xs:6,sm:4},React.createElement(ItemProductComponent,{link:link,name:product.name,star:getProductAverageRating(product),starSize:'1em',price:product.price,product:imageLink,starDisplay:'block'}));});return React.createElement(\"div\",{className:classes.firstDiv},React.createElement(Container,{className:classes.productsContainer},React.createElement(NavbarSection,{theme:\"dark\"}),React.createElement(Grid,{container:true},productList)),React.createElement(FooterSection,null));}var useStyles=makeStyles(function(theme){return{firstDiv:{backgroundImage:\"url(\".concat(ImgPattern,\")\"),backgroundSize:'cover',paddingTop:'5rem',minHeight:'100%'},productImg:{width:'100%'},imgProducts:{width:'100%',marginBottom:'1rem'},imgStar:{width:'30%',display:'block',marginLeft:'auto',marginRight:'auto',marginBottom:'1rem'},link:{},productsContainer:{marginTop:'4rem',marginBottom:'10rem'}};});function getProductAverageRating(product){if(product.product_reviews.length==0){return 0;}else{var reviewCount=product.product_reviews.length;var averageRating=product.product_reviews.reduce(function(acc,review){return acc+review.rating/reviewCount;});return averageRating;}}","map":{"version":3,"sources":["E:/Work/react/salvager/src/views/products/Products.js"],"names":["React","useState","useEffect","axios","makeStyles","withTheme","Container","Grid","Typography","Link","emphasize","NavbarSection","FooterSection","ItemProductComponent","ImgPattern","ImgProducts1","ImgProducts2","ImgProducts3","ImgProducts4","ImgProducts5","ImgStar5","ImgStar4","ImgStar3","Products","window","scrollTo","classes","useStyles","products","setProducts","fetchProducts","fetch","res","json","console","log","productList","map","product","link","id","imageLink","product_images","name","getProductAverageRating","price","firstDiv","productsContainer","theme","backgroundImage","backgroundSize","paddingTop","minHeight","productImg","width","imgProducts","marginBottom","imgStar","display","marginLeft","marginRight","marginTop","product_reviews","length","reviewCount","averageRating","reduce","acc","review","rating"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { makeStyles, withTheme } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Link } from '@material-ui/core';\r\nimport { emphasize } from \"@material-ui/core/styles/colorManipulator\";\r\n\r\nimport NavbarSection from '../NavbarSection'\r\nimport FooterSection from '../home/FooterSection'\r\nimport ItemProductComponent from '../ItemProductComponent'\r\n\r\nimport ImgPattern from '../../assets/img/pattern2.png'\r\nimport ImgProducts1 from '../../assets/img/p1.png'\r\nimport ImgProducts2 from '../../assets/img/p2.png'\r\nimport ImgProducts3 from '../../assets/img/p3.png'\r\nimport ImgProducts4 from '../../assets/img/p4.png'\r\nimport ImgProducts5 from '../../assets/img/p5.png'\r\nimport ImgStar5 from '../../assets/img/star5.png'\r\nimport ImgStar4 from '../../assets/img/star4.png'\r\nimport ImgStar3 from '../../assets/img/star3.png'\r\n\r\nexport default function Products() {\r\n    window.scrollTo(0, 0)\r\n    const classes = useStyles();\r\n    const [products, setProducts] = useState([])\r\n\r\n    async function fetchProducts() {\r\n        const res = await fetch(\"https://salvagerapi.salvagerindonesia.com/api/v1/products/?format=json\")\r\n        const products = await res.json()\r\n        setProducts(products)\r\n        console.log(products)\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchProducts();\r\n    }, []);\r\n\r\n    const productList = products.map((product) => {\r\n        const link = \"/product/\" + product.id\r\n        const imageLink = \"https://salvagerapi.salvagerindonesia.com\" + product.product_images[0]\r\n        console.log(imageLink)\r\n        return (\r\n            <Grid item xs={6} sm={4}>\r\n                <ItemProductComponent\r\n                    link={link}\r\n                    name={product.name}\r\n                    star={getProductAverageRating(product)}\r\n                    starSize={'1em'}\r\n                    price={product.price}\r\n                    product={imageLink}\r\n                    starDisplay={'block'} />\r\n            </Grid >\r\n        )\r\n    })\r\n    return (\r\n        <div className={classes.firstDiv}>\r\n            <Container className={classes.productsContainer}>\r\n                <NavbarSection theme='dark' />\r\n                <Grid container>\r\n                    {productList}\r\n                </Grid>\r\n            </Container>\r\n            <FooterSection />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    firstDiv: {\r\n        backgroundImage: `url(${ImgPattern})`,\r\n        backgroundSize: 'cover',\r\n        paddingTop: '5rem',\r\n        minHeight: '100%'\r\n    },\r\n    productImg: {\r\n        width: '100%'\r\n    },\r\n    imgProducts: {\r\n        width: '100%',\r\n        marginBottom: '1rem'\r\n    },\r\n    imgStar: {\r\n        width: '30%',\r\n        display: 'block',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        marginBottom: '1rem'\r\n    },\r\n    link: {\r\n    },\r\n    productsContainer: {\r\n        marginTop: '4rem',\r\n        marginBottom: '10rem'\r\n    }\r\n}));\r\n\r\nfunction getProductAverageRating(product) {\r\n    if (product.product_reviews.length == 0) {\r\n        return 0\r\n    } else {\r\n        let reviewCount = product.product_reviews.length\r\n        let averageRating = product.product_reviews.reduce((acc, review) => {\r\n            return acc + (review.rating / reviewCount)\r\n        })\r\n        return averageRating\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}