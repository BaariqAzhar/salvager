{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{makeStyles,withTheme}from'@material-ui/core/styles';import Typography from'@material-ui/core/Typography';import NavbarSection from'../NavbarSection';import ReviewSection from'../products/ReviewSection';import FooterSection from'../home/FooterSection';import StarComponent from'../StarComponent';import{Container}from'@material-ui/core';import{useParams}from'react-router-dom';import Grid from'@material-ui/core/Grid';import Divider from'@material-ui/core/Divider';export default function ProductDetail(){var classes=useStyles();var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),productImageList=_useState4[0],setProductImage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),productReviewlist=_useState6[0],setProductReview=_useState6[1];function fetchProduct(){return _fetchProduct.apply(this,arguments);}function _fetchProduct(){_fetchProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,product,productImages,productReviews;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://salvagerapi.salvagerindonesia.com/api/v1/products/\"+id+\"?format=json\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:product=_context.sent;setProduct(product);productImages=product.product_images.map(function(imageLocation){return'https://salvagerapi.salvagerindonesia.com/'+imageLocation;});setProductImage(productImages);productReviews=product.product_reviews.map(function(reviews){return reviews;});setProductReview(productReviews);case 11:case\"end\":return _context.stop();}}},_callee);}));return _fetchProduct.apply(this,arguments);}useEffect(function(){fetchProduct();},[]);return React.createElement(\"div\",null,React.createElement(Container,null,React.createElement(NavbarSection,{theme:\"dark\"}),React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:12,sm:6,md:6},React.createElement(\"img\",{className:classes.productImage,src:productImageList[0]})),React.createElement(Grid,{item:true,xs:12,sm:6,md:6},React.createElement(Grid,{container:true,spacing:2},React.createElement(Grid,{item:true,xs:12},React.createElement(\"div\",{className:classes.productTextContainer},React.createElement(Grid,{container:true,spacing:1},React.createElement(Grid,{item:true,xs:12},React.createElement(Typography,{gutterBottom:true,variant:\"h4\"},product.name)),React.createElement(Grid,{item:true,xs:12},React.createElement(StarComponent,{star:getAverageStars(productReviewlist),size:'25%'})),React.createElement(Grid,{item:true,xs:12},React.createElement(Typography,{gutterBottom:true,variant:\"h5\"},\"Rp. \",product.price)),React.createElement(Divider,null),React.createElement(Grid,{item:true,xs:12},React.createElement(Typography,{component:\"p\"},product.description)))))))),React.createElement(ReviewSection,{reviews:productReviewlist})),React.createElement(FooterSection,null));}function getAverageStars(reviews){var reviewLength=reviews.length;var totalReviewStars=reviews.reduce(function(a,b){return a+b;},0);return Math.ceil(totalReviewStars/reviewLength);}var useStyles=makeStyles(function(theme){return{root:{'& > *':{margin:theme.spacing(1)}},productTitle:{alignItems:'center',marginTop:'1rem'},productImage:{widht:'32rem',height:'32rem'}};});","map":{"version":3,"sources":["E:/Work/react/salvager/src/views/products/ProductDetail.js"],"names":["React","useState","useEffect","makeStyles","withTheme","Typography","NavbarSection","ReviewSection","FooterSection","StarComponent","Container","useParams","Grid","Divider","ProductDetail","classes","useStyles","id","product","setProduct","productImageList","setProductImage","productReviewlist","setProductReview","fetchProduct","fetch","res","json","productImages","product_images","map","imageLocation","productReviews","product_reviews","reviews","productImage","productTextContainer","name","getAverageStars","price","description","reviewLength","length","totalReviewStars","reduce","a","b","Math","ceil","theme","root","margin","spacing","productTitle","alignItems","marginTop","widht","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { makeStyles, withTheme } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport NavbarSection from '../NavbarSection'\r\nimport ReviewSection from '../products/ReviewSection'\r\nimport FooterSection from '../home/FooterSection';\r\nimport StarComponent from '../StarComponent'\r\nimport { Container } from '@material-ui/core';\r\nimport { useParams } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nexport default function ProductDetail() {\r\n    const classes = useStyles();\r\n    const { id } = useParams();\r\n    const [product, setProduct] = useState([])\r\n    const [productImageList, setProductImage] = useState([])\r\n    const [productReviewlist, setProductReview] = useState([])\r\n\r\n    async function fetchProduct() {\r\n        const res = await fetch(\"https://salvagerapi.salvagerindonesia.com/api/v1/products/\" + id + \"?format=json\")\r\n        const product = await res.json()\r\n        setProduct(product)\r\n        let productImages = product.product_images.map((imageLocation) => {\r\n            return 'https://salvagerapi.salvagerindonesia.com/' + imageLocation\r\n        })\r\n        setProductImage(productImages)\r\n        let productReviews = product.product_reviews.map((reviews) => {\r\n            return reviews\r\n        })\r\n        setProductReview(productReviews)\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchProduct();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <NavbarSection theme='dark' />\r\n                <Grid container>\r\n                    <Grid item xs={12} sm={6} md={6}>\r\n                        <img className={classes.productImage} src={productImageList[0]} />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={6}>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item xs={12}>\r\n                                <div className={classes.productTextContainer}>\r\n                                    <Grid container spacing={1}>\r\n                                        <Grid item xs={12}>\r\n                                            <Typography gutterBottom variant=\"h4\">\r\n                                                {product.name}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <StarComponent star={getAverageStars(productReviewlist)} size={'25%'} />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Typography gutterBottom variant=\"h5\">\r\n                                                Rp. {product.price}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Divider />\r\n                                        <Grid item xs={12}>\r\n                                            <Typography component=\"p\">\r\n                                                {product.description}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <ReviewSection reviews={productReviewlist} />\r\n            </Container>\r\n            <FooterSection />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction getAverageStars(reviews) {\r\n    let reviewLength = reviews.length\r\n    let totalReviewStars = reviews.reduce((a, b) => a + b, 0)\r\n    return Math.ceil( totalReviewStars/reviewLength ); \r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    productTitle: {\r\n        alignItems: 'center',\r\n        marginTop: '1rem'\r\n    },\r\n    productImage: {\r\n        widht: '32rem',\r\n        height: '32rem'\r\n    }\r\n}));\r\n"]},"metadata":{},"sourceType":"module"}