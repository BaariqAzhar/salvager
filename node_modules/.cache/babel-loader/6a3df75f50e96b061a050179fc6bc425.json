{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport debounce from 'lodash/debounce';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { setTransform, isTransform3dSupported } from './utils';\n\nvar ScrollableTabBarNode = function (_React$Component) {\n  _inherits(ScrollableTabBarNode, _React$Component);\n\n  function ScrollableTabBarNode(props) {\n    _classCallCheck(this, ScrollableTabBarNode);\n\n    var _this = _possibleConstructorReturn(this, (ScrollableTabBarNode.__proto__ || Object.getPrototypeOf(ScrollableTabBarNode)).call(this, props));\n\n    _this.prevTransitionEnd = function (e) {\n      if (e.propertyName !== 'opacity') {\n        return;\n      }\n\n      var container = _this.props.getRef('container');\n\n      _this.scrollToActiveTab({\n        target: container,\n        currentTarget: container\n      });\n    };\n\n    _this.scrollToActiveTab = function (e) {\n      var activeTab = _this.props.getRef('activeTab');\n\n      var navWrap = _this.props.getRef('navWrap');\n\n      if (e && e.target !== e.currentTarget || !activeTab) {\n        return;\n      } // when not scrollable or enter scrollable first time, don't emit scrolling\n\n\n      var needToSroll = _this.isNextPrevShown() && _this.lastNextPrevShown;\n\n      _this.lastNextPrevShown = _this.isNextPrevShown();\n\n      if (!needToSroll) {\n        return;\n      }\n\n      var activeTabWH = _this.getScrollWH(activeTab);\n\n      var navWrapNodeWH = _this.getOffsetWH(navWrap);\n\n      var offset = _this.offset;\n\n      var wrapOffset = _this.getOffsetLT(navWrap);\n\n      var activeTabOffset = _this.getOffsetLT(activeTab);\n\n      if (wrapOffset > activeTabOffset) {\n        offset += wrapOffset - activeTabOffset;\n\n        _this.setOffset(offset);\n      } else if (wrapOffset + navWrapNodeWH < activeTabOffset + activeTabWH) {\n        offset -= activeTabOffset + activeTabWH - (wrapOffset + navWrapNodeWH);\n\n        _this.setOffset(offset);\n      }\n    };\n\n    _this.prev = function (e) {\n      _this.props.onPrevClick(e);\n\n      var navWrapNode = _this.props.getRef('navWrap');\n\n      var navWrapNodeWH = _this.getOffsetWH(navWrapNode);\n\n      var offset = _this.offset;\n\n      _this.setOffset(offset + navWrapNodeWH);\n    };\n\n    _this.next = function (e) {\n      _this.props.onNextClick(e);\n\n      var navWrapNode = _this.props.getRef('navWrap');\n\n      var navWrapNodeWH = _this.getOffsetWH(navWrapNode);\n\n      var offset = _this.offset;\n\n      _this.setOffset(offset - navWrapNodeWH);\n    };\n\n    _this.offset = 0;\n    _this.state = {\n      next: false,\n      prev: false\n    };\n    return _this;\n  }\n\n  _createClass(ScrollableTabBarNode, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.componentDidUpdate();\n      this.debouncedResize = debounce(function () {\n        _this2.setNextPrev();\n\n        _this2.scrollToActiveTab();\n      }, 200);\n      this.resizeObserver = new ResizeObserver(this.debouncedResize);\n      this.resizeObserver.observe(this.props.getRef('container'));\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var props = this.props;\n\n      if (prevProps && prevProps.tabBarPosition !== props.tabBarPosition) {\n        this.setOffset(0);\n        return;\n      }\n\n      var nextPrev = this.setNextPrev(); // wait next, prev show hide\n\n      /* eslint react/no-did-update-set-state:0 */\n\n      if (this.isNextPrevShown(this.state) !== this.isNextPrevShown(nextPrev)) {\n        this.setState({}, this.scrollToActiveTab);\n      } else if (!prevProps || props.activeKey !== prevProps.activeKey) {\n        // can not use props.activeKey\n        this.scrollToActiveTab();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.resizeObserver) {\n        this.resizeObserver.disconnect();\n      }\n\n      if (this.debouncedResize && this.debouncedResize.cancel) {\n        this.debouncedResize.cancel();\n      }\n    }\n  }, {\n    key: 'setNextPrev',\n    value: function setNextPrev() {\n      var navNode = this.props.getRef('nav');\n      var navTabsContainer = this.props.getRef('navTabsContainer');\n      var navNodeWH = this.getScrollWH(navTabsContainer || navNode); // Add 1px to fix `offsetWidth` with decimal in Chrome not correct handle\n      // https://github.com/ant-design/ant-design/issues/13423\n\n      var containerWH = this.getOffsetWH(this.props.getRef('container')) + 1;\n      var navWrapNodeWH = this.getOffsetWH(this.props.getRef('navWrap'));\n      var offset = this.offset;\n      var minOffset = containerWH - navNodeWH;\n      var _state = this.state,\n          next = _state.next,\n          prev = _state.prev;\n\n      if (minOffset >= 0) {\n        next = false;\n        this.setOffset(0, false);\n        offset = 0;\n      } else if (minOffset < offset) {\n        next = true;\n      } else {\n        next = false; // Fix https://github.com/ant-design/ant-design/issues/8861\n        // Test with container offset which is stable\n        // and set the offset of the nav wrap node\n\n        var realOffset = navWrapNodeWH - navNodeWH;\n        this.setOffset(realOffset, false);\n        offset = realOffset;\n      }\n\n      if (offset < 0) {\n        prev = true;\n      } else {\n        prev = false;\n      }\n\n      this.setNext(next);\n      this.setPrev(prev);\n      return {\n        next: next,\n        prev: prev\n      };\n    }\n  }, {\n    key: 'getOffsetWH',\n    value: function getOffsetWH(node) {\n      var tabBarPosition = this.props.tabBarPosition;\n      var prop = 'offsetWidth';\n\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        prop = 'offsetHeight';\n      }\n\n      return node[prop];\n    }\n  }, {\n    key: 'getScrollWH',\n    value: function getScrollWH(node) {\n      var tabBarPosition = this.props.tabBarPosition;\n      var prop = 'scrollWidth';\n\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        prop = 'scrollHeight';\n      }\n\n      return node[prop];\n    }\n  }, {\n    key: 'getOffsetLT',\n    value: function getOffsetLT(node) {\n      var tabBarPosition = this.props.tabBarPosition;\n      var prop = 'left';\n\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        prop = 'top';\n      }\n\n      return node.getBoundingClientRect()[prop];\n    }\n  }, {\n    key: 'setOffset',\n    value: function setOffset(offset) {\n      var checkNextPrev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var target = Math.min(0, offset);\n\n      if (this.offset !== target) {\n        this.offset = target;\n        var navOffset = {};\n        var tabBarPosition = this.props.tabBarPosition;\n        var navStyle = this.props.getRef('nav').style;\n        var transformSupported = isTransform3dSupported(navStyle);\n\n        if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n          if (transformSupported) {\n            navOffset = {\n              value: 'translate3d(0,' + target + 'px,0)'\n            };\n          } else {\n            navOffset = {\n              name: 'top',\n              value: target + 'px'\n            };\n          }\n        } else if (transformSupported) {\n          if (this.props.direction === 'rtl') {\n            target = -target;\n          }\n\n          navOffset = {\n            value: 'translate3d(' + target + 'px,0,0)'\n          };\n        } else {\n          navOffset = {\n            name: 'left',\n            value: target + 'px'\n          };\n        }\n\n        if (transformSupported) {\n          setTransform(navStyle, navOffset.value);\n        } else {\n          navStyle[navOffset.name] = navOffset.value;\n        }\n\n        if (checkNextPrev) {\n          this.setNextPrev();\n        }\n      }\n    }\n  }, {\n    key: 'setPrev',\n    value: function setPrev(v) {\n      if (this.state.prev !== v) {\n        this.setState({\n          prev: v\n        });\n      }\n    }\n  }, {\n    key: 'setNext',\n    value: function setNext(v) {\n      if (this.state.next !== v) {\n        this.setState({\n          next: v\n        });\n      }\n    }\n  }, {\n    key: 'isNextPrevShown',\n    value: function isNextPrevShown(state) {\n      if (state) {\n        return state.next || state.prev;\n      }\n\n      return this.state.next || this.state.prev;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames, _classnames2, _classnames3, _classnames4;\n\n      var _state2 = this.state,\n          next = _state2.next,\n          prev = _state2.prev;\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          scrollAnimated = _props.scrollAnimated,\n          navWrapper = _props.navWrapper,\n          prevIcon = _props.prevIcon,\n          nextIcon = _props.nextIcon;\n      var showNextPrev = prev || next;\n      var prevButton = React.createElement('span', {\n        onClick: prev ? this.prev : null,\n        unselectable: 'unselectable',\n        className: classnames((_classnames = {}, _defineProperty(_classnames, prefixCls + '-tab-prev', 1), _defineProperty(_classnames, prefixCls + '-tab-btn-disabled', !prev), _defineProperty(_classnames, prefixCls + '-tab-arrow-show', showNextPrev), _classnames)),\n        onTransitionEnd: this.prevTransitionEnd\n      }, prevIcon || React.createElement('span', {\n        className: prefixCls + '-tab-prev-icon'\n      }));\n      var nextButton = React.createElement('span', {\n        onClick: next ? this.next : null,\n        unselectable: 'unselectable',\n        className: classnames((_classnames2 = {}, _defineProperty(_classnames2, prefixCls + '-tab-next', 1), _defineProperty(_classnames2, prefixCls + '-tab-btn-disabled', !next), _defineProperty(_classnames2, prefixCls + '-tab-arrow-show', showNextPrev), _classnames2))\n      }, nextIcon || React.createElement('span', {\n        className: prefixCls + '-tab-next-icon'\n      }));\n      var navClassName = prefixCls + '-nav';\n      var navClasses = classnames((_classnames3 = {}, _defineProperty(_classnames3, navClassName, true), _defineProperty(_classnames3, scrollAnimated ? navClassName + '-animated' : navClassName + '-no-animated', true), _classnames3));\n      return React.createElement('div', {\n        className: classnames((_classnames4 = {}, _defineProperty(_classnames4, prefixCls + '-nav-container', 1), _defineProperty(_classnames4, prefixCls + '-nav-container-scrolling', showNextPrev), _classnames4)),\n        key: 'container',\n        ref: this.props.saveRef('container')\n      }, prevButton, nextButton, React.createElement('div', {\n        className: prefixCls + '-nav-wrap',\n        ref: this.props.saveRef('navWrap')\n      }, React.createElement('div', {\n        className: prefixCls + '-nav-scroll'\n      }, React.createElement('div', {\n        className: navClasses,\n        ref: this.props.saveRef('nav')\n      }, navWrapper(this.props.children)))));\n    }\n  }]);\n\n  return ScrollableTabBarNode;\n}(React.Component);\n\nexport default ScrollableTabBarNode;\nScrollableTabBarNode.propTypes = {\n  activeKey: PropTypes.string,\n  getRef: PropTypes.func.isRequired,\n  saveRef: PropTypes.func.isRequired,\n  tabBarPosition: PropTypes.oneOf(['left', 'right', 'top', 'bottom']),\n  prefixCls: PropTypes.string,\n  scrollAnimated: PropTypes.bool,\n  onPrevClick: PropTypes.func,\n  onNextClick: PropTypes.func,\n  navWrapper: PropTypes.func,\n  children: PropTypes.node,\n  prevIcon: PropTypes.node,\n  nextIcon: PropTypes.node,\n  direction: PropTypes.node\n};\nScrollableTabBarNode.defaultProps = {\n  tabBarPosition: 'left',\n  prefixCls: '',\n  scrollAnimated: true,\n  onPrevClick: function onPrevClick() {},\n  onNextClick: function onNextClick() {},\n  navWrapper: function navWrapper(ele) {\n    return ele;\n  }\n};","map":{"version":3,"sources":["E:/Work/react/salvager/node_modules/rc-tabs/es/ScrollableTabBarNode.js"],"names":["_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","classnames","debounce","ResizeObserver","setTransform","isTransform3dSupported","ScrollableTabBarNode","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","prevTransitionEnd","e","propertyName","container","getRef","scrollToActiveTab","target","currentTarget","activeTab","navWrap","needToSroll","isNextPrevShown","lastNextPrevShown","activeTabWH","getScrollWH","navWrapNodeWH","getOffsetWH","offset","wrapOffset","getOffsetLT","activeTabOffset","setOffset","prev","onPrevClick","navWrapNode","next","onNextClick","state","key","value","componentDidMount","_this2","componentDidUpdate","debouncedResize","setNextPrev","resizeObserver","observe","prevProps","tabBarPosition","nextPrev","setState","activeKey","componentWillUnmount","disconnect","cancel","navNode","navTabsContainer","navNodeWH","containerWH","minOffset","_state","realOffset","setNext","setPrev","node","prop","getBoundingClientRect","checkNextPrev","arguments","length","undefined","Math","min","navOffset","navStyle","style","transformSupported","name","direction","v","render","_classnames","_classnames2","_classnames3","_classnames4","_state2","_props","prefixCls","scrollAnimated","navWrapper","prevIcon","nextIcon","showNextPrev","prevButton","createElement","onClick","unselectable","className","onTransitionEnd","nextButton","navClassName","navClasses","ref","saveRef","children","Component","propTypes","string","func","isRequired","oneOf","bool","defaultProps","ele"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\r\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\r\nimport _createClass from 'babel-runtime/helpers/createClass';\r\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\r\nimport _inherits from 'babel-runtime/helpers/inherits';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport debounce from 'lodash/debounce';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport { setTransform, isTransform3dSupported } from './utils';\r\n\r\nvar ScrollableTabBarNode = function (_React$Component) {\r\n  _inherits(ScrollableTabBarNode, _React$Component);\r\n\r\n  function ScrollableTabBarNode(props) {\r\n    _classCallCheck(this, ScrollableTabBarNode);\r\n\r\n    var _this = _possibleConstructorReturn(this, (ScrollableTabBarNode.__proto__ || Object.getPrototypeOf(ScrollableTabBarNode)).call(this, props));\r\n\r\n    _this.prevTransitionEnd = function (e) {\r\n      if (e.propertyName !== 'opacity') {\r\n        return;\r\n      }\r\n      var container = _this.props.getRef('container');\r\n      _this.scrollToActiveTab({\r\n        target: container,\r\n        currentTarget: container\r\n      });\r\n    };\r\n\r\n    _this.scrollToActiveTab = function (e) {\r\n      var activeTab = _this.props.getRef('activeTab');\r\n      var navWrap = _this.props.getRef('navWrap');\r\n      if (e && e.target !== e.currentTarget || !activeTab) {\r\n        return;\r\n      }\r\n\r\n      // when not scrollable or enter scrollable first time, don't emit scrolling\r\n      var needToSroll = _this.isNextPrevShown() && _this.lastNextPrevShown;\r\n      _this.lastNextPrevShown = _this.isNextPrevShown();\r\n      if (!needToSroll) {\r\n        return;\r\n      }\r\n\r\n      var activeTabWH = _this.getScrollWH(activeTab);\r\n      var navWrapNodeWH = _this.getOffsetWH(navWrap);\r\n      var offset = _this.offset;\r\n\r\n      var wrapOffset = _this.getOffsetLT(navWrap);\r\n      var activeTabOffset = _this.getOffsetLT(activeTab);\r\n      if (wrapOffset > activeTabOffset) {\r\n        offset += wrapOffset - activeTabOffset;\r\n        _this.setOffset(offset);\r\n      } else if (wrapOffset + navWrapNodeWH < activeTabOffset + activeTabWH) {\r\n        offset -= activeTabOffset + activeTabWH - (wrapOffset + navWrapNodeWH);\r\n        _this.setOffset(offset);\r\n      }\r\n    };\r\n\r\n    _this.prev = function (e) {\r\n      _this.props.onPrevClick(e);\r\n      var navWrapNode = _this.props.getRef('navWrap');\r\n      var navWrapNodeWH = _this.getOffsetWH(navWrapNode);\r\n      var offset = _this.offset;\r\n\r\n      _this.setOffset(offset + navWrapNodeWH);\r\n    };\r\n\r\n    _this.next = function (e) {\r\n      _this.props.onNextClick(e);\r\n      var navWrapNode = _this.props.getRef('navWrap');\r\n      var navWrapNodeWH = _this.getOffsetWH(navWrapNode);\r\n      var offset = _this.offset;\r\n\r\n      _this.setOffset(offset - navWrapNodeWH);\r\n    };\r\n\r\n    _this.offset = 0;\r\n\r\n    _this.state = {\r\n      next: false,\r\n      prev: false\r\n    };\r\n    return _this;\r\n  }\r\n\r\n  _createClass(ScrollableTabBarNode, [{\r\n    key: 'componentDidMount',\r\n    value: function componentDidMount() {\r\n      var _this2 = this;\r\n\r\n      this.componentDidUpdate();\r\n      this.debouncedResize = debounce(function () {\r\n        _this2.setNextPrev();\r\n        _this2.scrollToActiveTab();\r\n      }, 200);\r\n      this.resizeObserver = new ResizeObserver(this.debouncedResize);\r\n      this.resizeObserver.observe(this.props.getRef('container'));\r\n    }\r\n  }, {\r\n    key: 'componentDidUpdate',\r\n    value: function componentDidUpdate(prevProps) {\r\n      var props = this.props;\r\n      if (prevProps && prevProps.tabBarPosition !== props.tabBarPosition) {\r\n        this.setOffset(0);\r\n        return;\r\n      }\r\n      var nextPrev = this.setNextPrev();\r\n      // wait next, prev show hide\r\n      /* eslint react/no-did-update-set-state:0 */\r\n      if (this.isNextPrevShown(this.state) !== this.isNextPrevShown(nextPrev)) {\r\n        this.setState({}, this.scrollToActiveTab);\r\n      } else if (!prevProps || props.activeKey !== prevProps.activeKey) {\r\n        // can not use props.activeKey\r\n        this.scrollToActiveTab();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'componentWillUnmount',\r\n    value: function componentWillUnmount() {\r\n      if (this.resizeObserver) {\r\n        this.resizeObserver.disconnect();\r\n      }\r\n      if (this.debouncedResize && this.debouncedResize.cancel) {\r\n        this.debouncedResize.cancel();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setNextPrev',\r\n    value: function setNextPrev() {\r\n      var navNode = this.props.getRef('nav');\r\n      var navTabsContainer = this.props.getRef('navTabsContainer');\r\n      var navNodeWH = this.getScrollWH(navTabsContainer || navNode);\r\n      // Add 1px to fix `offsetWidth` with decimal in Chrome not correct handle\r\n      // https://github.com/ant-design/ant-design/issues/13423\r\n      var containerWH = this.getOffsetWH(this.props.getRef('container')) + 1;\r\n      var navWrapNodeWH = this.getOffsetWH(this.props.getRef('navWrap'));\r\n      var offset = this.offset;\r\n\r\n      var minOffset = containerWH - navNodeWH;\r\n      var _state = this.state,\r\n          next = _state.next,\r\n          prev = _state.prev;\r\n\r\n      if (minOffset >= 0) {\r\n        next = false;\r\n        this.setOffset(0, false);\r\n        offset = 0;\r\n      } else if (minOffset < offset) {\r\n        next = true;\r\n      } else {\r\n        next = false;\r\n        // Fix https://github.com/ant-design/ant-design/issues/8861\r\n        // Test with container offset which is stable\r\n        // and set the offset of the nav wrap node\r\n        var realOffset = navWrapNodeWH - navNodeWH;\r\n        this.setOffset(realOffset, false);\r\n        offset = realOffset;\r\n      }\r\n\r\n      if (offset < 0) {\r\n        prev = true;\r\n      } else {\r\n        prev = false;\r\n      }\r\n\r\n      this.setNext(next);\r\n      this.setPrev(prev);\r\n      return {\r\n        next: next,\r\n        prev: prev\r\n      };\r\n    }\r\n  }, {\r\n    key: 'getOffsetWH',\r\n    value: function getOffsetWH(node) {\r\n      var tabBarPosition = this.props.tabBarPosition;\r\n      var prop = 'offsetWidth';\r\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\r\n        prop = 'offsetHeight';\r\n      }\r\n      return node[prop];\r\n    }\r\n  }, {\r\n    key: 'getScrollWH',\r\n    value: function getScrollWH(node) {\r\n      var tabBarPosition = this.props.tabBarPosition;\r\n      var prop = 'scrollWidth';\r\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\r\n        prop = 'scrollHeight';\r\n      }\r\n      return node[prop];\r\n    }\r\n  }, {\r\n    key: 'getOffsetLT',\r\n    value: function getOffsetLT(node) {\r\n      var tabBarPosition = this.props.tabBarPosition;\r\n      var prop = 'left';\r\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\r\n        prop = 'top';\r\n      }\r\n      return node.getBoundingClientRect()[prop];\r\n    }\r\n  }, {\r\n    key: 'setOffset',\r\n    value: function setOffset(offset) {\r\n      var checkNextPrev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\r\n\r\n      var target = Math.min(0, offset);\r\n      if (this.offset !== target) {\r\n        this.offset = target;\r\n        var navOffset = {};\r\n        var tabBarPosition = this.props.tabBarPosition;\r\n        var navStyle = this.props.getRef('nav').style;\r\n        var transformSupported = isTransform3dSupported(navStyle);\r\n        if (tabBarPosition === 'left' || tabBarPosition === 'right') {\r\n          if (transformSupported) {\r\n            navOffset = {\r\n              value: 'translate3d(0,' + target + 'px,0)'\r\n            };\r\n          } else {\r\n            navOffset = {\r\n              name: 'top',\r\n              value: target + 'px'\r\n            };\r\n          }\r\n        } else if (transformSupported) {\r\n          if (this.props.direction === 'rtl') {\r\n            target = -target;\r\n          }\r\n          navOffset = {\r\n            value: 'translate3d(' + target + 'px,0,0)'\r\n          };\r\n        } else {\r\n          navOffset = {\r\n            name: 'left',\r\n            value: target + 'px'\r\n          };\r\n        }\r\n        if (transformSupported) {\r\n          setTransform(navStyle, navOffset.value);\r\n        } else {\r\n          navStyle[navOffset.name] = navOffset.value;\r\n        }\r\n        if (checkNextPrev) {\r\n          this.setNextPrev();\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setPrev',\r\n    value: function setPrev(v) {\r\n      if (this.state.prev !== v) {\r\n        this.setState({\r\n          prev: v\r\n        });\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setNext',\r\n    value: function setNext(v) {\r\n      if (this.state.next !== v) {\r\n        this.setState({\r\n          next: v\r\n        });\r\n      }\r\n    }\r\n  }, {\r\n    key: 'isNextPrevShown',\r\n    value: function isNextPrevShown(state) {\r\n      if (state) {\r\n        return state.next || state.prev;\r\n      }\r\n      return this.state.next || this.state.prev;\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var _classnames, _classnames2, _classnames3, _classnames4;\r\n\r\n      var _state2 = this.state,\r\n          next = _state2.next,\r\n          prev = _state2.prev;\r\n      var _props = this.props,\r\n          prefixCls = _props.prefixCls,\r\n          scrollAnimated = _props.scrollAnimated,\r\n          navWrapper = _props.navWrapper,\r\n          prevIcon = _props.prevIcon,\r\n          nextIcon = _props.nextIcon;\r\n\r\n      var showNextPrev = prev || next;\r\n\r\n      var prevButton = React.createElement(\r\n        'span',\r\n        {\r\n          onClick: prev ? this.prev : null,\r\n          unselectable: 'unselectable',\r\n          className: classnames((_classnames = {}, _defineProperty(_classnames, prefixCls + '-tab-prev', 1), _defineProperty(_classnames, prefixCls + '-tab-btn-disabled', !prev), _defineProperty(_classnames, prefixCls + '-tab-arrow-show', showNextPrev), _classnames)),\r\n          onTransitionEnd: this.prevTransitionEnd\r\n        },\r\n        prevIcon || React.createElement('span', { className: prefixCls + '-tab-prev-icon' })\r\n      );\r\n\r\n      var nextButton = React.createElement(\r\n        'span',\r\n        {\r\n          onClick: next ? this.next : null,\r\n          unselectable: 'unselectable',\r\n          className: classnames((_classnames2 = {}, _defineProperty(_classnames2, prefixCls + '-tab-next', 1), _defineProperty(_classnames2, prefixCls + '-tab-btn-disabled', !next), _defineProperty(_classnames2, prefixCls + '-tab-arrow-show', showNextPrev), _classnames2))\r\n        },\r\n        nextIcon || React.createElement('span', { className: prefixCls + '-tab-next-icon' })\r\n      );\r\n\r\n      var navClassName = prefixCls + '-nav';\r\n      var navClasses = classnames((_classnames3 = {}, _defineProperty(_classnames3, navClassName, true), _defineProperty(_classnames3, scrollAnimated ? navClassName + '-animated' : navClassName + '-no-animated', true), _classnames3));\r\n\r\n      return React.createElement(\r\n        'div',\r\n        {\r\n          className: classnames((_classnames4 = {}, _defineProperty(_classnames4, prefixCls + '-nav-container', 1), _defineProperty(_classnames4, prefixCls + '-nav-container-scrolling', showNextPrev), _classnames4)),\r\n          key: 'container',\r\n          ref: this.props.saveRef('container')\r\n        },\r\n        prevButton,\r\n        nextButton,\r\n        React.createElement(\r\n          'div',\r\n          { className: prefixCls + '-nav-wrap', ref: this.props.saveRef('navWrap') },\r\n          React.createElement(\r\n            'div',\r\n            { className: prefixCls + '-nav-scroll' },\r\n            React.createElement(\r\n              'div',\r\n              { className: navClasses, ref: this.props.saveRef('nav') },\r\n              navWrapper(this.props.children)\r\n            )\r\n          )\r\n        )\r\n      );\r\n    }\r\n  }]);\r\n\r\n  return ScrollableTabBarNode;\r\n}(React.Component);\r\n\r\nexport default ScrollableTabBarNode;\r\n\r\n\r\nScrollableTabBarNode.propTypes = {\r\n  activeKey: PropTypes.string,\r\n  getRef: PropTypes.func.isRequired,\r\n  saveRef: PropTypes.func.isRequired,\r\n  tabBarPosition: PropTypes.oneOf(['left', 'right', 'top', 'bottom']),\r\n  prefixCls: PropTypes.string,\r\n  scrollAnimated: PropTypes.bool,\r\n  onPrevClick: PropTypes.func,\r\n  onNextClick: PropTypes.func,\r\n  navWrapper: PropTypes.func,\r\n  children: PropTypes.node,\r\n  prevIcon: PropTypes.node,\r\n  nextIcon: PropTypes.node,\r\n  direction: PropTypes.node\r\n};\r\n\r\nScrollableTabBarNode.defaultProps = {\r\n  tabBarPosition: 'left',\r\n  prefixCls: '',\r\n  scrollAnimated: true,\r\n  onPrevClick: function onPrevClick() {},\r\n  onNextClick: function onNextClick() {},\r\n  navWrapper: function navWrapper(ele) {\r\n    return ele;\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}