{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\Work\\\\react\\\\salvager\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import'../../assets/css/home.css';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import ItemProductComponent from'../ItemProductComponent';export default function OurproductsSection(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];function fetchProducts(){return _fetchProducts.apply(this,arguments);}function _fetchProducts(){_fetchProducts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,products;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://salvagerapi.salvagerindonesia.com/api/v1/products/?format=json\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:products=_context.sent;setProducts(products);console.log(products);case 8:case\"end\":return _context.stop();}}},_callee);}));return _fetchProducts.apply(this,arguments);}useEffect(function(){fetchProducts();},[]);var productList=products.map(function(product){var link=\"/product/\"+product.id;var imageLink=\"https://salvagerapi.salvagerindonesia.com\"+product.product_images[0];var starSize='1em';console.log(imageLink);return React.createElement(Grid,{item:true,xs:6,sm:2},React.createElement(ItemProductComponent,{starDisplay:'block',name:product.name,star:product.rating,starSize:starSize,price:product.price,product:imageLink,link:link}));});productList=productList.slice(Math.max(productList.length-6,0));return React.createElement(\"div\",null,React.createElement(Typography,{className:classes.title,variant:\"h3\",gutterBottom:true,align:\"center\"},\"Our Products \"),React.createElement(Grid,{container:true},productList));}var useStyles=makeStyles(function(theme){return{root:{'& > *':{Button:{textTransform:'none'}}},viewButton:{// textTransform: 'none',\n// margin: '0%'\n},title:{marginTop:'5%'},imgProducts:{width:'100%'}};});","map":{"version":3,"sources":["E:/Work/react/salvager/src/views/home/OurproductsSection.js"],"names":["React","useState","useEffect","makeStyles","Grid","Typography","ItemProductComponent","OurproductsSection","classes","useStyles","products","setProducts","fetchProducts","fetch","res","json","console","log","productList","map","product","link","id","imageLink","product_images","starSize","name","rating","price","slice","Math","max","length","title","theme","root","Button","textTransform","viewButton","marginTop","imgProducts","width"],"mappings":"0UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAO,2BAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,yBAAjC,CAEA,cAAe,SAASC,CAAAA,kBAAT,EAA8B,CAC3C,GAAMC,CAAAA,OAAO,CAAGC,SAAS,EAAzB,CAD2C,cAEXR,QAAQ,CAAC,EAAD,CAFG,wCAEpCS,QAFoC,eAE1BC,WAF0B,uBAI5BC,CAAAA,aAJ4B,iJAI3C,0KACoBC,CAAAA,KAAK,CAAC,wEAAD,CADzB,QACQC,GADR,qCAEyBA,CAAAA,GAAG,CAACC,IAAJ,EAFzB,QAEQL,QAFR,eAGEC,WAAW,CAACD,QAAD,CAAX,CACAM,OAAO,CAACC,GAAR,CAAYP,QAAZ,EAJF,sDAJ2C,gDAW3CR,SAAS,CAAC,UAAM,CACdU,aAAa,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAIM,CAAAA,WAAW,CAAGR,QAAQ,CAACS,GAAT,CAAa,SAACC,OAAD,CAAa,CAC1C,GAAMC,CAAAA,IAAI,CAAG,YAAcD,OAAO,CAACE,EAAnC,CACA,GAAMC,CAAAA,SAAS,CAAG,4CAA8CH,OAAO,CAACI,cAAR,CAAuB,CAAvB,CAAhE,CACA,GAAMC,CAAAA,QAAQ,CAAG,KAAjB,CAEAT,OAAO,CAACC,GAAR,CAAYM,SAAZ,EACA,MAAO,qBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,CAAtB,EACL,oBAAC,oBAAD,EACE,WAAW,CAAE,OADf,CAEE,IAAI,CAAEH,OAAO,CAACM,IAFhB,CAGE,IAAI,CAAEN,OAAO,CAACO,MAHhB,CAIE,QAAQ,CAAEF,QAJZ,CAKE,KAAK,CAAEL,OAAO,CAACQ,KALjB,CAME,OAAO,CAAEL,SANX,CAOE,IAAI,CAAEF,IAPR,EADK,CAAP,CAUD,CAhBiB,CAAlB,CAkBAH,WAAW,CAAGA,WAAW,CAACW,KAAZ,CAAkBC,IAAI,CAACC,GAAL,CAASb,WAAW,CAACc,MAAZ,CAAqB,CAA9B,CAAiC,CAAjC,CAAlB,CAAd,CAEA,MACE,gCACE,oBAAC,UAAD,EAAY,SAAS,CAAExB,OAAO,CAACyB,KAA/B,CAAsC,OAAO,CAAC,IAA9C,CAAmD,YAAY,KAA/D,CAAgE,KAAK,CAAC,QAAtE,kBADF,CAIE,oBAAC,IAAD,EAAM,SAAS,KAAf,EACGf,WADH,CAJF,CADF,CAUD,CAED,GAAMT,CAAAA,SAAS,CAAGN,UAAU,CAAC,SAAA+B,KAAK,QAAK,CACrCC,IAAI,CAAE,CACJ,QAAS,CACPC,MAAM,CAAE,CACNC,aAAa,CAAE,MADT,CADD,CADL,CAD+B,CAQrCC,UAAU,CAAE,CACV;AACA;AAFU,CARyB,CAYrCL,KAAK,CAAE,CACLM,SAAS,CAAE,IADN,CAZ8B,CAerCC,WAAW,CAAE,CACXC,KAAK,CAAE,MADI,CAfwB,CAAL,EAAN,CAA5B","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport '../../assets/css/home.css'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ItemProductComponent from '../ItemProductComponent';\r\n\r\nexport default function OurproductsSection() {\r\n  const classes = useStyles();\r\n  const [products, setProducts] = useState([])\r\n\r\n  async function fetchProducts() {\r\n    const res = await fetch(\"https://salvagerapi.salvagerindonesia.com/api/v1/products/?format=json\")\r\n    const products = await res.json()\r\n    setProducts(products)\r\n    console.log(products)\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  let productList = products.map((product) => {\r\n    const link = \"/product/\" + product.id\r\n    const imageLink = \"https://salvagerapi.salvagerindonesia.com\" + product.product_images[0]\r\n    const starSize = '1em'\r\n\r\n    console.log(imageLink)\r\n    return <Grid item xs={6} sm={2}>\r\n      <ItemProductComponent\r\n        starDisplay={'block'}\r\n        name={product.name}\r\n        star={product.rating}\r\n        starSize={starSize}\r\n        price={product.price}\r\n        product={imageLink}\r\n        link={link} />\r\n    </Grid>\r\n  })\r\n\r\n  productList = productList.slice(Math.max(productList.length - 6, 0))\r\n\r\n  return (\r\n    <div>\r\n      <Typography className={classes.title} variant=\"h3\" gutterBottom align=\"center\">\r\n        Our Products </Typography>\r\n\r\n      <Grid container>\r\n        {productList}\r\n      </Grid>\r\n    </div >\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    '& > *': {\r\n      Button: {\r\n        textTransform: 'none'\r\n      },\r\n    },\r\n  },\r\n  viewButton: {\r\n    // textTransform: 'none',\r\n    // margin: '0%'\r\n  },\r\n  title: {\r\n    marginTop: '5%'\r\n  },\r\n  imgProducts: {\r\n    width: '100%'\r\n  },\r\n}));\r\n"]},"metadata":{},"sourceType":"module"}